#!/usr/bin/env node

'use strict'

const { argv } = require('yargs')
  .boolean(['quiet'])
  .alias('quiet', 'q')

const assertVersionBump = require('../src/assertVersionBump.js')

try {
  const newVersion = assertVersionBump({ fileName: argv._[0] })
  if (! argv.quiet && ! newVersion) console.log('assert-version-bump: This is master, skipping.')
  if (! argv.quiet && newVersion) console.log('assert-version-bump: new version found.')
  process.exit(0)
} catch (err) {
  console.log(err.message)
  process.exit(1)
}
